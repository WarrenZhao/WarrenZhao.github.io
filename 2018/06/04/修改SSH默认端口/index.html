<!DOCTYPE html>

<html lang="en">
    <head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
    <!--
        © SukkaW
        GitHub: https://github.com/SukkaW/hexo-theme-suka
        Version: 1.3.3
    -->
    <script>
window.lsVersion = "1.3.3",
window.oldVersion = [
    
        
            "0.2.0","0.0.1","0.1.0","1.0.0","1.0.1","1.1.0","1.1.1","1.2.0","1.3.0","1.3.2"
        
    
]
</script>

    <!-- ### DNS Prefetch ### -->
    <meta http-equiv="x-dns-prefetch-control" content="on">
<!-- busuanzi -->

    <link rel="dns-prefetch" href="//busuanzi.ibruce.info">


<!-- comment -->







<!-- analytics -->








    <!-- ### Preload ### -->
    
    <!-- Busuanzi -->
    
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/busuanzi@2.3.0/bsz.pure.mini.js" as="script">







    <!-- ### Meta & Title & Info ### -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge, chrome=1">
<meta name="renderer" content="webkit">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">

<!-- Title -->
<title>修改SSH端口号 | Warren Zhao&#39; blog</title>

<!-- favicon -->
<!-- Favicons -->

    <link rel="icon" type="image/ico" href="/img/suka-favicon.ico">






<!-- Android Chrome Color -->



<meta name="format-detection" content="telephone=no">

<!-- Description -->
<meta name="description" content="&amp;#x5199;&amp;#x5728;&amp;#x524D;&amp;#x9762;&amp;#xFF1A;ssh&amp;#x9ED8;&amp;#x76D1;&amp;#x542C;&amp;#x7684;&amp;#x7AEF;&amp;#x53E3;&amp;#x66...">

<!-- Keywords -->
<meta name="keywords" content=", 中文, SSH">

<!-- Disable Fucking Bloody Baidu Tranformation -->
<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">

    <!-- ### Import File ### -->
    
        <!-- spectre.css -->

    <link rel="stylesheet" href="/lib/spectre/spectre.min.css">


<style>
    body {
        background-color: #f8f9fa;
    }

    a, a:visited {
        color: #0070ff;
    }

    a:active, a:focus, a:hover {
        color: #0070ff;
        opacity: .75;
    }

    #post-content a,
    #post-content a:hover,
    #post-content a:focus,
    #post-content a:visited {
        color: #005eb9;
        opacity: 1;
    }

    .post-entry .card-body a {
        color: #0070ff;
    }

    .avatar {
        background: #444;
    }

    .navbar-link,
    .navbar-link:visited,
    .timeline .timeline-item .timeline-icon.icon-lg {
        color: #0070ff;
    }

    .navbar-link:hover {
        color: #0070ff;
        opacity: .8;
    }

    #search-input .btn,
    #disqus_click_btn,
    #disqus-switch-to-direct,
    #disqus-loadmore-button {
        background: #727e96;
        border-color: #727e96;
        color: #fff;
    }

    #post-toc a.post-toc-link,
    #post-toc a.post-toc-link:visited,
    .share-menu.menu .menu-item>a {
        color: #727e96;
    }

    .share-menu.menu .menu-item>a:hover,
    .share-menu.menu .menu-item>a:focus,
    .share-menu.menu .menu-item>a:visited {
        color: #50596c;
        background: #f8f9fa;
        opacity: .85;
    }
</style>

<!-- style.css -->

    <link rel="stylesheet" href="/css/style.min.css">









    <!-- Prettify Theme -->
    
    
        <link rel="stylesheet" href="/css/highlight/github.min.css">
    



    

    <!-- ### Site Verification ### -->
    


    <!-- ### RSS ### -->
    

    <!-- ### WebApp ### -->
    <meta name="mobile-web-app-capable" content="yes">
<meta name="application-name" content="Warren Zhao&#39; blog">
<meta name="msapplication-starturl" content="http://yoursite.com">

<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-title" content="Warren Zhao&#39; blog">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

<!-- Manifest Import -->

<!-- Open Search -->


    <!-- ### The Open Graph & Twitter Card Protocol ### -->
    <meta property="og:title" content="修改SSH端口号 | Warren Zhao&#39; blog">
<meta property="og:site_name" content="Warren Zhao&#39; blog">

<meta property="og:locale" content="en">

<meta property="og:url" content="http://yoursite.com/2018/06/04/修改SSH默认端口/">
<meta property="og:image" content="http://yoursite.com/img/suka-favicon.ico">

<meta property="og:description" content="&amp;#x5199;&amp;#x5728;&amp;#x524D;&amp;#x9762;&amp;#xFF1A;ssh&amp;#x9ED8;&amp;#x76D1;&amp;#x542C;&amp;#x7684;&amp;#x7AEF;&amp;#x53E3;&amp;#x66...">

<meta name="twitter:card" content="summary">


    <meta property="og:type" content="article">
    <meta property="article:published_time" content="2018-06-04T06:20:38.000Z">
    <meta property="article:modified_time" content="2018-06-04T06:20:38.000Z">
    <meta property="article:author" content="Warren Zhao">
    <meta property="og:article:tag" content=", 中文, SSH"> 





    <!-- ### Analytics ### -->
    








    <!-- ### Canonical link ### -->
    <link rel="canonical" href="http://yoursite.com/2018/06/04/修改SSH默认端口/">

    <!-- ### Structured Data ### -->
    



<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "url": "http://yoursite.com/2018/06/04/修改SSH默认端口/",
    "@type": "BlogPosting",
    "logo": "http://yoursite.com/img/suka-favicon.ico",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://yoursite.com/2018/06/04/修改SSH默认端口/"
    },
    "headline": "修改SSH端口号 | Warren Zhao&#39; blog",
    
    "image": {
        "@type": "ImageObject",
        "url": "http://yoursite.com/img/suka-favicon.ico"
    },
    
    "datePublished": "2018-06-04T06:20:38.000Z",
    "dateModified": "2018-06-13T12:10:16.000Z",
    "author": {
        "@type": "Person",
        "name": "Warren Zhao",
        "image": {
            "@type": "ImageObject",
            "url": "http://yoursite.com/img/default_avatar.png"
        },
        "description": "Hi, nice to meet you."
    },
    "publisher": {
        "@type": "Organization",
        "name": "Warren Zhao&#39; blog",
        "logo": {
            "@type": "ImageObject",
            "url": "http://yoursite.com/img/suka-favicon.ico"
        }
    },
    
    "potentialAction": {
        "@type": "SearchAction",
        "target": "http://yoursite.com/search?s={search_term_string}",
        "query-input": "required name=search_term_string"
    },
    
    "keywords": ", 中文, SSH",
    "description": "&amp;#x5199;&amp;#x5728;&amp;#x524D;&amp;#x9762;&amp;#xFF1A;ssh&amp;#x9ED8;&amp;#x76D1;&amp;#x542C;&amp;#x7684;&amp;#x7AEF;&amp;#x53E3;&amp;#x66..."
}
</script>



    <!-- ### Custom Head ### -->
    


</head>

    <body>
        

            

            <!-- ### Main content ### -->
            <!-- ## Header ##-->
<header>
    <h1 class="header-title text-center"><a href="/">Warren Zhao&#39; blog</a></h1>

    <p class="text-center header-slogan">
        
            
                Hi, nice to meet you.
            
        
    </p>

    <nav class="navbar-section text-center">
    
        <a href="/" class="navbar-link">Home</a>
    
    
        <a href="/archives/" class="navbar-link">Archives</a>
    
    
        <a href="/search" class="navbar-link">Search</a>
    
    
    
        <div class="dropdown dropdown-right">
    <a class="navbar-link dropdown-toggle" tabindex="0">Share</a>
    <ul class="menu share-menu">

        <!-- Share Weibo -->
        
        <li class="menu-item">
            <a href="http://service.weibo.com/share/share.php?appkey=&title=Warren Zhao' blog&url=http://yoursite.com&pic=http://yoursite.com/img/suka-favicon.ico&searchPic=false&style=simple" target="_blank" rel="external noopener noreferrer nofollow">Share to Weibo</a>
        </li>
        

        <!-- Share Twitter -->
        
        <li class="menu-item">
            <a href="https://twitter.com/intent/tweet?text=Warren Zhao' blog&url=http://yoursite.com&via=Warren Zhao" target="_blank" rel="external noopener noreferrer nofollow">Share to Twitter</a>
        </li>
        

        <!-- Share Facebook -->
        
        <li class="menu-item">
            <a href="https://www.facebook.com/sharer/sharer.php?u=http://yoursite.com" target="_blank" rel="external noopener noreferrer nofollow">Share to Facebook</a>
        </li>
        

        <!-- Share Google+ -->
        
        <li class="menu-item">
            <a href="https://plus.google.com/share?url=http://yoursite.com" target="_blank" rel="external noopener noreferrer nofollow">Share to Google+</a>
        </li>
        

        <!-- Share LinkedIn -->
        
        <li class="menu-item">
            <a href="https://www.linkedin.com/shareArticle?mini=true&url=http://yoursite.com&title=修改SSH端口号" target="_blank" rel="external noopener noreferrer nofollow">Share to LinkedIn</a>
        </li>
        

        <!-- Share QQ -->
        
        <li class="menu-item">
            <a href="http://connect.qq.com/widget/shareqq/index.html?site=Warren Zhao' blog&title=修改SSH端口号&summary=&pics=http://yoursite.com/img/suka-favicon.ico&url=http://yoursite.com" target="_blank" rel="external noopener noreferrer nofollow"> Share to QQ</a>
        </li>
        

        <!-- Share Telegram -->
        
        <li class="menu-item">
            <a href="https://t.me/share/url?url=http://yoursite.com&text=修改SSH端口号" target="_blank" rel="external noopener noreferrer nofollow">Share to Telegram</a>
        </li>
        

        <!-- QRCode -->
        
        <li class="menu-item">
            <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJQAAACUCAAAAABQV18IAAAB6klEQVR42u3ay27DMAxEUf//T7erAkFAcYYK0Fjj602al3UCqBJF8vq54XWBAgUKVIG6muvv/e6xe616vhoHVBaqnHQvA71/ufpe9fnqx63GAZWHUjdRn+smuTsOqGegugm++rvCgQK1mrgV8v0ek8UYVC6q3SiLgcsgrXg+GgdUDOqTg8Pk8d9OM6C+ipJJB7GgdovnanJ/nHUBdWtUdcPVwqgSG2pT78YElYNSk1ltopOFU44HKgpVId0A0LnHahNeruigjkd1m6eTSOs2avefCVQmSiXmncJRt3Bub8igjkE5CQsnmT8GVJ8FFYGykw+imOhMdlkMABWHUkVqFQSqpIcscoOKQalkR3fIUAeO7gAB6lkop5DtFCcnyVpQOSinmOjefPcRVA7KKUA6waDT1KUaDkHloLqNdSdgU81cckMGdTxKNWWp16dJXKupC9SxqO7goIo+TtHRmfSg8lCT4M0pXjrNOKOkGaijUF3x2gnU3ASaCgxB5aDU5TSiugkSVUQHlYFyGprdxOqkMXrrhAzqGNROwK+CNpXQkJ37oI5HTZtu1ER332ujBFCRqC654Ux+t6EC1LNQTsLWKTTZDTigIlBuc5YT+KmgzsoOgzoa5W6casNWi6MsFoCKQN3pAgUKFKiX6xcwQpAv18FkMgAAAABJRU5ErkJggg==" alr="QRCode">
        </li>
        

    </ul>
</div>
    
    
</nav>
</header>

            
    <!-- ## Post ## -->
    
    


<div class="post-container">
    <div id="post-card" class="card">
        
        <div class="card-item-container">
            <div class="card-inner-cell">
                <!-- # Post Header Info # -->
                <div class="card-header">
                    
    <h1 class="card-title h3 mb-2">修改SSH端口号</h1>




<div class="post-header-info">
    <p class="post-header-info-left text-gray">
        <img class="author-thumb lazyload" data-src="/img/default_avatar.png" src="/img/suka-lazyload.gif" alt="Warren Zhao's Avatar">
        <span>2018-06-04</span>
        
            <span class="suka-devide-dot"></span>
            <a class="category-link" href="/categories/work/">work</a>
        
        
            <!-- Busuanzi Post Views -->
<span id="busuanzi_container_page_pv" hidden>
    <span class="suka-devide-dot"></span>
    <span></span>
    <span id="busuanzi_value_page_pv"></span>
    <span>Views</span>
</span>
        
        
    </p>
    <div class="post-header-info-right">
        
            <div class="dropdown dropdown-right">
<a class="dropdown-toggle" tabindex="0">Share the post</a>
<ul class="menu share-menu">
    <!-- Share Weibo -->
    
    <li class="menu-item">
        <a href="http://service.weibo.com/share/share.php?appkey=&title=修改SSH端口号&url=http://yoursite.com/2018/06/04/修改SSH默认端口/&pic=http://yoursite.com/img/suka-favicon.ico&searchPic=false&style=simple" target="_blank" rel="external noopener noreferrer nofollow">Share to Weibo</a>
    </li>
    

    <!-- Share Twitter -->
    
    <li class="menu-item">
        <a href="https://twitter.com/intent/tweet?text=修改SSH端口号&url=http://yoursite.com/2018/06/04/修改SSH默认端口/&via=Warren Zhao" target="_blank" rel="external noopener noreferrer nofollow">Share to Twitter</a>
    </li>
    

    <!-- Share Facebook -->
    
    <li class="menu-item">
        <a href="https://www.facebook.com/sharer/sharer.php?u=http://yoursite.com/2018/06/04/修改SSH默认端口/" target="_blank" rel="external noopener noreferrer nofollow">Share to Facebook</a>
    </li>
    

    <!-- Share Google+ -->
    
    <li class="menu-item">
        <a href="https://plus.google.com/share?url=http://yoursite.com/2018/06/04/修改SSH默认端口/" target="_blank" rel="external noopener noreferrer nofollow">Share to Google+</a>
    </li>
    

    <!-- Share LinkedIn -->
    
    <li class="menu-item">
        <a href="https://www.linkedin.com/shareArticle?mini=true&url=http://yoursite.com/2018/06/04/修改SSH默认端口/&title=Warren Zhao' blog" target="_blank" rel="external noopener noreferrer nofollow">Share to LinkedIn</a>
    </li>
    

    <!-- Share QQ -->
    
    <li class="menu-item">
        <a href="http://connect.qq.com/widget/shareqq/index.html?site=Warren Zhao' blog&title=Warren Zhao' blog&summary=&pics=http://yoursite.com/img/suka-favicon.ico&url=http://yoursite.com/2018/06/04/修改SSH默认端口/" target="_blank" rel="external noopener noreferrer nofollow"> Share to QQ</a>
    </li>
    

    <!-- Share Telegram -->
    
    <li class="menu-item">
        <a href="https://t.me/share/url?url=http://yoursite.com/2018/06/04/修改SSH默认端口/&text=Warren Zhao' blog" target="_blank" rel="external noopener noreferrer nofollow">Share to Telegram</a>
    </li>
    

    <!-- QRCode -->
    
    <li class="menu-item">
        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJQAAACUCAAAAABQV18IAAAB6klEQVR42u3ay27DMAxEUf//T7erAkFAcYYK0Fjj602al3UCqBJF8vq54XWBAgUKVIG6muvv/e6xe616vhoHVBaqnHQvA71/ufpe9fnqx63GAZWHUjdRn+smuTsOqGegugm++rvCgQK1mrgV8v0ek8UYVC6q3SiLgcsgrXg+GgdUDOqTg8Pk8d9OM6C+ipJJB7GgdovnanJ/nHUBdWtUdcPVwqgSG2pT78YElYNSk1ltopOFU44HKgpVId0A0LnHahNeruigjkd1m6eTSOs2avefCVQmSiXmncJRt3Bub8igjkE5CQsnmT8GVJ8FFYGykw+imOhMdlkMABWHUkVqFQSqpIcscoOKQalkR3fIUAeO7gAB6lkop5DtFCcnyVpQOSinmOjefPcRVA7KKUA6waDT1KUaDkHloLqNdSdgU81cckMGdTxKNWWp16dJXKupC9SxqO7goIo+TtHRmfSg8lCT4M0pXjrNOKOkGaijUF3x2gnU3ASaCgxB5aDU5TSiugkSVUQHlYFyGprdxOqkMXrrhAzqGNROwK+CNpXQkJ37oI5HTZtu1ER332ujBFCRqC654Ux+t6EC1LNQTsLWKTTZDTigIlBuc5YT+KmgzsoOgzoa5W6casNWi6MsFoCKQN3pAgUKFKiX6xcwQpAv18FkMgAAAABJRU5ErkJggg==" alt="QRCode">
    </li>
    

</ul>
</div>
        
    </div>
</div>
                </div>
                <div class="card-body">
                    
                        
                            <div id="post-toc">
                                <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#步骤："><span class="post-toc-number">1.</span> <span class="post-toc-text">步骤：</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#前置步骤"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">前置步骤</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-修改ssh配置文件"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">1.修改ssh配置文件</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-配置Semanage"><span class="post-toc-number">1.3.</span> <span class="post-toc-text">2.配置Semanage</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-配置防火墙firewalld"><span class="post-toc-number">1.4.</span> <span class="post-toc-text">3.配置防火墙firewalld</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#4-其他设置"><span class="post-toc-number">1.5.</span> <span class="post-toc-text">4.其他设置</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#结束语"><span class="post-toc-number">1.6.</span> <span class="post-toc-text">结束语</span></a></li></ol></li></ol>
                            </div>
                        
                    
                    <article id="post-content">
                        <p><font color="red">&#x5199;&#x5728;&#x524D;&#x9762;&#xFF1A;ssh&#x9ED8;&#x76D1;&#x542C;&#x7684;&#x7AEF;&#x53E3;&#x662F;22&#x7AEF;&#x53E3;&#xFF0C;&#x6709;&#x4EBA;&#x6307;&#x51FA;CentOS7&#x4E4B;&#x524D;&#x7684;&#x4FEE;&#x6539;SSH&#x9ED8;&#x8BA4;&#x7AEF;&#x53E3;&#x7684;&#x65B9;&#x5F0F;&#x548C;CentOS7&#x4E4B;&#x540E;&#x7684;&#x65B9;&#x5F0F;&#x6709;&#x6240;&#x6709;&#x4E0D;&#x540C;&#xFF0C;&#x7531;&#x4E8E;&#x6211;&#x5728;&#x5DE5;&#x4F5C;&#x4E2D;&#x4F7F;&#x7528;&#x7684;&#x662F;CentOS7&#xFF0C;&#x56E0;&#x6B64;CentOS7&#x4E4B;&#x524D;&#x7684;&#x7248;&#x672C;&#x5C31;&#x5077;&#x61D2;&#x4E0D;&#x505A;&#x4E86;&#x3002;</font></p>
<p><strong>&#x5DE5;&#x4F5C;&#x4EFB;&#x52A1;</strong>&#xFF1A;&#x672C;&#x6B21;&#x7684;&#x5DE5;&#x4F5C;&#x4EFB;&#x52A1;&#x662F;&#x56E0;&#x4E3A;22&#x7AEF;&#x53E3;&#x5F02;&#x5E38;&#xFF0C;&#x4F46;&#x4ECD;&#x7136;&#x9700;&#x8981;SSH&#x670D;&#x52A1;&#xFF0C;&#x6545;&#x5C06;22&#x7AEF;&#x53E3;&#x66FF;&#x6362;&#x4E3A;&#x5176;&#x4ED6;&#x7AEF;&#x53E3;&#xFF08;&#x6BD4;&#x5982;10086&#xFF09;&#x3002;</p>
<p><strong>&#x73AF;&#x5883;</strong>&#xFF1A;<br><br>CentOS7.2.1511<br><br>&#x963F;&#x91CC;&#x4E91;&#x5E73;&#x53F0;</p>
<p><strong>&#x9700;&#x8981;&#x4F7F;&#x7528;&#x7684;&#x5DE5;&#x5177;</strong>&#xFF1A;<br><br>sshd<br><br>firewalld<br><br>iptables<br><br>semanage<br></p>
<p>&#x5176;&#x4ED6;&#xFF1A;&#x4E3B;&#x8981;&#x53C2;&#x8003;&#x6587;&#x7AE0;&#x94FE;&#x63A5;<a href="https://sebastianblade.com/how-to-modify-ssh-port-in-centos7/" title="Title" target="_blank" rel="noopener">&#x600E;&#x6837;&#x4FEE;&#x6539; CentOS 7 SSH &#x7AEF;&#x53E3;</a></p>
<p>&#x53E6;&#x5916;&#x5410;&#x69FD;&#x4E00;&#x4E0B;&#xFF0C;&#x767E;&#x5EA6;&#x662F;&#x771F;&#x7684;&#x67E5;&#x4E0D;&#x5230;&#x4EC0;&#x4E48;&#x7CFB;&#x7EDF;&#x6027;&#x7684;&#x6587;&#x7AE0;&#xFF0C;&#x67E5;&#x5230;&#x7684;&#x90FD;&#x662F;csdn&#x7B49;&#x535A;&#x5BA2;&#x7684;&#x53EA;&#x8A00;&#x7247;&#x8BED;&#xFF0C;&#x4E0D;&#x5229;&#x4E8E;&#x6574;&#x4F53;&#x89E3;&#x51B3;&#x95EE;&#x9898;&#xFF0C;&#x67E5;&#x627E;&#x505A;&#x7684;&#x4E5F;&#x4E0D;&#x597D;&#xFF0C;&#x627E;&#x5230;&#x7684;&#x4E1C;&#x897F;&#x57FA;&#x672C;&#x90FD;&#x662F;&#x91CD;&#x590D;&#x7684;&#xFF0C;&#x8FD8;&#x662F;&#x7528;google&#x5427;&#x3002;</p>
<h2 id="&#x6B65;&#x9AA4;&#xFF1A;"><a href="#&#x6B65;&#x9AA4;&#xFF1A;" class="headerlink" title="&#x6B65;&#x9AA4;&#xFF1A;"></a>&#x6B65;&#x9AA4;&#xFF1A;</h2><h3 id="&#x524D;&#x7F6E;&#x6B65;&#x9AA4;"><a href="#&#x524D;&#x7F6E;&#x6B65;&#x9AA4;" class="headerlink" title="&#x524D;&#x7F6E;&#x6B65;&#x9AA4;"></a>&#x524D;&#x7F6E;&#x6B65;&#x9AA4;</h3><p>&#x67E5;&#x770B;&#x67D0;&#x4E2A;&#x7AEF;&#x53E3;&#x662F;&#x5426;&#x88AB;&#x5360;&#x7528;</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -lnp|grep 10086</span><br></pre></td></tr></table></figure>

<p>&#x5982;&#x679C;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x6253;&#x5370;&#x7684;&#x8BDD;&#xFF0C;&#x8BF4;&#x660E;&#x6CA1;&#x6709;&#x88AB;&#x5360;&#x7528;&#xFF0C;&#x5982;&#x679C;&#x5360;&#x7528;&#x4F1A;&#x5217;&#x51FA;&#x8FDB;&#x7A0B;&#x4FE1;&#x606F;&#x3002;</p>
<h3 id="1-&#x4FEE;&#x6539;ssh&#x914D;&#x7F6E;&#x6587;&#x4EF6;"><a href="#1-&#x4FEE;&#x6539;ssh&#x914D;&#x7F6E;&#x6587;&#x4EF6;" class="headerlink" title="1.&#x4FEE;&#x6539;ssh&#x914D;&#x7F6E;&#x6587;&#x4EF6;"></a>1.&#x4FEE;&#x6539;ssh&#x914D;&#x7F6E;&#x6587;&#x4EF6;</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/ssh/sshd_config</span><br></pre></td></tr></table></figure>

<p>&#x6709;&#x7684;&#x4EBA;&#x559C;&#x6B22;&#x7528;vim&#xFF0C;vim&#x867D;&#x597D;&#x4F46;&#x662F;&#x9ED8;&#x8BA4;&#x88C5;&#x7684;&#x8FD8;&#x662F;vi&#xFF0C;&#x5982;&#x679C;&#x662F;&#x57FA;&#x672C;&#x53EA;&#x4FEE;&#x6539;&#x7F16;&#x8F91;&#x4E00;&#x4E0B;&#x6587;&#x6863;&#xFF0C;&#x57FA;&#x672C;&#x611F;&#x89C9;&#x4E0D;&#x5230;&#x533A;&#x522B;&#x3002;</p>
<p>&#x627E;&#x5230;<code># Port 22</code>&#x8FD9;&#x4E00;&#x884C;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;vi&#x4E2D;&#x7684;&#x67E5;&#x627E;&#x547D;&#x4EE4;<code>/22</code>&#xFF0C;&#x6572;&#x51FB;&#x56DE;&#x8F66;&#xFF0C;&#x641E;&#x5B9A;&#x3002;&#x5728;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x4E2D;&#x524D;&#x9762;&#x6709;<code>#</code>&#x4EE3;&#x8868;&#x6CE8;&#x91CA;&#xFF0C;&#x5C31;&#x662F;&#x5728;&#x5B9E;&#x9645;&#x7684;&#x673A;&#x5668;&#x8FD0;&#x884C;&#x671F;&#x95F4;&#x4E0D;&#x8D77;&#x4F5C;&#x7528;&#x3002;&#x53BB;&#x6389;&#x524D;&#x9762;&#x7684;<code>#</code>&#x8BE5;&#x884C;&#x7684;&#x547D;&#x4EE4;&#x5C31;&#x8D77;&#x4F5C;&#x7528;&#x4E86;&#x3002;&#x5C06;22&#x66FF;&#x6362;&#x4E3A;&#x60F3;&#x8981;&#x53D8;&#x66F4;&#x7684;&#x7AEF;&#x53E3;&#xFF0C;&#x6BD4;&#x5982;22222&#xFF0C;&#x53D8;&#x66F4;&#x4E4B;&#x540E;&#x5C31;&#x53D8;&#x6210;&#x4E86;<code>Port 22222</code>&#x4E0D;&#x8981;&#x6709;&#x591A;&#x4F59;&#x7684;&#x5B57;&#x7B26;&#x3002;</p>
<p>&#x8FD9;&#x91CC;&#x6709;&#x4E24;&#x4E2A;&#x70B9;&#x9700;&#x8981;&#x8BF4;&#x660E;&#x4E00;&#x4E0B;&#xFF0C;&#x6211;&#x5F53;&#x65F6;&#x7684;&#x8F93;&#x51FA;&#x662F;&#xFF1A;</p>
<p><img src="/2018/06/04/&#x4FEE;&#x6539;SSH&#x9ED8;&#x8BA4;&#x7AEF;&#x53E3;/failed.png" alt title="Optional Title"></p>
<p>&#x9996;&#x5148;&#xFF0C;&#x6267;&#x884C;<code>service sshd restart</code>&#x4E4B;&#x540E;&#xFF0C;&#x6211;&#x5E76;&#x4E0D;&#x80FD;&#x786E;&#x5B9A;&#x6267;&#x884C;&#x7ED3;&#x679C;&#x5230;&#x5E95;&#x662F;&#x4EC0;&#x4E48;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x6267;&#x884C;<code>service sshd status</code>&#xFF0C;&#x67E5;&#x770B;&#x4E00;&#x4E0B;sshd&#x670D;&#x52A1;&#x662F;&#x5426;&#x8FD0;&#x884C;&#x4E86;&#x8D77;&#x6765;&#xFF0C;&#x4E0D;&#x51FA;&#x6240;&#x6599;&#xFF0C;&#x679C;&#x7136;&#x662F;&#x4E0D;&#x884C;&#x3002;&#x4F46;&#x662F;&#x5230;&#x5E95;&#x662F;&#x54EA;&#x91CC;&#x4E0D;&#x884C;&#x5462;&#xFF1F;&#x7136;&#x540E;&#x7ECF;&#x8FC7;&#x82E5;&#x5E72;&#x5C0F;&#x65F6;&#x7684;&#x67E5;&#x627E;&#x548C;&#x5C1D;&#x8BD5;&#xFF0C;&#x53D1;&#x73B0;&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#x3002;</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sshd -t</span><br></pre></td></tr></table></figure>

<p>&#x8FD9;&#x4E2A;&#x547D;&#x4EE4;&#x4E0D;&#x7B80;&#x5355;&#x554A;&#xFF0C;&#x4E8E;&#x662F;&#x6211;&#x53D1;&#x73B0;&#x4E86;&#x65B0;&#x5927;&#x9646;&#x3002;&#x6267;&#x884C;&#x4E4B;&#x540E;&#x5982;&#x4E0B;&#x56FE;</p>
<p><img src="/2018/06/04/&#x4FEE;&#x6539;SSH&#x9ED8;&#x8BA4;&#x7AEF;&#x53E3;/sshd-t.png" alt title="Optional Title"></p>
<p>&#x4ED4;&#x7EC6;&#x8BFB;&#x4E00;&#x4E0B;&#xFF0C;&#x53D1;&#x73B0;&#x662F;ssh&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x6709;&#x4E00;&#x4E2A;<code>/</code>&#xFF0C;&#x4F46;&#x662F;&#xFF0C;&#x6211;&#x5199;&#x4E86;&#x597D;&#x904D;&#xFF0C;&#x68C0;&#x67E5;&#x4E86;&#x597D;&#x51E0;&#x904D;&#xFF0C;&#x53EA;&#x8BB0;&#x5F97;&#x6539;&#x4E86;&#x7AEF;&#x53E3;&#x53F7;&#x554A;&#x3002;&#x65E0;&#x5948;&#xFF0C;&#x518D;&#x8FDB;&#x53BB;&#x68C0;&#x67E5;&#x4E00;&#x904D;&#xFF0C;&#x8FD8;&#x662F;&#x6CA1;&#x627E;&#x5230;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x6267;&#x884C;&#xFF0C;&#x95EE;&#x9898;&#x6CA1;&#x89E3;&#x51B3;&#xFF0C;&#x5F53;&#x7136;&#x8FD8;&#x662F;&#x4E00;&#x6837;&#x7684;&#x7ED3;&#x679C;&#x3002;&#x7B49;&#x5230;&#x7B2C;&#x4E09;&#x904D;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F7F;&#x7528;&#x4E86;vi&#x4E2D;&#x7684;gg&#x547D;&#x4EE4;&#x662F;&#x56DE;&#x5230;&#x7B2C;&#x4E00;&#x884C;&#xFF0C;&#x5F53;&#x65F6;&#x627E;&#x4E0D;&#x5230;&#x5149;&#x6807;&#x554A;&#xFF0C;&#x7136;&#x540E;&#x5C06;&#x5C4F;&#x5E55;&#x62C9;&#x4E0B;&#x6765;&#x624D;&#x53D1;&#x73B0;&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x4E0D;&#x80FD;&#x8986;&#x76D6;&#x6574;&#x4E2A;&#x7BA1;&#x7406;&#x7AEF;&#x7684;&#x9875;&#x9762;&#xFF0C;&#x8981;&#x4E48;&#x5C31;&#x662F;&#x4E0A;&#x9762;&#x5C11;&#x4E00;&#x884C;&#xFF0C;&#x8981;&#x4E48;&#x5C31;&#x662F;&#x4E0B;&#x9762;&#x5C11;&#x4E00;&#x884C;,&#x7B2C;&#x4E00;&#x884C;&#x7B2C;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x7684;&#x5730;&#x65B9;&#x8D6B;&#x7136;&#x5199;&#x7740;&#x4E00;&#x4E2A;<code>/</code>&#x3002;</p>
<p><img src="/2018/06/04/&#x4FEE;&#x6539;SSH&#x9ED8;&#x8BA4;&#x7AEF;&#x53E3;/qi.jpeg" alt title="Optional Title"></p>
<p>&#x5230;&#x6B64;&#x4E3A;&#x6B62;sshd&#x7684;&#x670D;&#x52A1;&#x7EC8;&#x4E8E;&#x80FD;&#x6B63;&#x5E38;&#x542F;&#x52A8;&#x4E86;&#xFF0C;&#x7EC8;&#x4E8E;&#x89E3;&#x51B3;&#x4E86;&#x8001;&#x592B;&#x7684;&#x4E00;&#x5757;&#x5FC3;&#x75C5;&#xFF01;</p>
<h3 id="2-&#x914D;&#x7F6E;Semanage"><a href="#2-&#x914D;&#x7F6E;Semanage" class="headerlink" title="2.&#x914D;&#x7F6E;Semanage"></a>2.&#x914D;&#x7F6E;Semanage</h3><blockquote>
<p>SELinux &#x5168;&#x79F0; Security Enhanced Linux (&#x5B89;&#x5168;&#x5F3A;&#x5316; Linux)&#xFF0C;&#x662F; MAC (Mandatory Access Control&#xFF0C;&#x5F3A;&#x5236;&#x8BBF;&#x95EE;&#x63A7;&#x5236;&#x7CFB;&#x7EDF;)&#x7684;&#x4E00;&#x4E2A;&#x5B9E;&#x73B0;&#xFF0C;&#x76EE;&#x7684;&#x5728;&#x4E8E;&#x660E;&#x786E;&#x7684;&#x6307;&#x660E;&#x67D0;&#x4E2A;&#x8FDB;&#x7A0B;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#x54EA;&#x4E9B;&#x8D44;&#x6E90;(&#x6587;&#x4EF6;&#x3001;&#x7F51;&#x7EDC;&#x7AEF;&#x53E3;&#x7B49;)&#x3002;</p>
</blockquote>
<p><strong>&#x5148;&#x68C0;&#x67E5;&#x662F;&#x5426;&#x5DF2;&#x7ECF;&#x5B89;&#x88C5;&#x6709;semanage</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">semanage</span><br><span class="line"><span class="comment"># &#x5982;&#x679C;&#x6CA1;&#x6709;&#x5B89;&#x88C5;&#xFF0C;&#x4E00;&#x822C;&#x4F1A;&#x51FA;&#x73B0;command not found</span></span><br></pre></td></tr></table></figure>

<p><strong>&#x5B89;&#x88C5;semanage&#x5DE5;&#x5177;</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum provides semanage</span><br><span class="line">yum -y install policycoreutils-python</span><br></pre></td></tr></table></figure>

<p><strong>&#x67E5;&#x770B;selinux&#x914D;&#x7F6E;&#x662F;&#x5426;&#x4E3A;&#x7981;&#x7528;&#x72B6;&#x6001;</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sestatus</span><br></pre></td></tr></table></figure>

<p>&#x5982;&#x679C;&#x663E;&#x793A;disable&#xFF0C;&#x5219;</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/selinux/config</span><br><span class="line"><span class="comment"># &#x4E4B;&#x540E;&#x8FDB;&#x5165;vi&#x7F16;&#x8F91;&#x5668;&#xFF0C;&#x7F16;&#x8F91;config&#x6587;&#x4EF6;</span></span><br><span class="line"><span class="comment"># &#x5C06;SELINUX=disabled&#x4FEE;&#x6539;&#x4E3A;SELINUX=enforcing</span></span><br><span class="line"><span class="comment"># &#x6309;esc</span></span><br><span class="line"><span class="comment"># &#x8F93;&#x5165;:wq</span></span><br><span class="line"><span class="comment"># &#x56DE;&#x8F66;</span></span><br><span class="line"><span class="comment"># &#x56DE;&#x5230;&#x7EC8;&#x7AEF;&#x754C;&#x9762;</span></span><br></pre></td></tr></table></figure>

<p>&#x91CD;&#x542F;semanage&#xFF0C;&#x68C0;&#x67E5;&#x662F;&#x5426;&#x5DF2;&#x7ECF;&#x542F;&#x7528;&#x3002;</p>
<p>&#x7136;&#x540E;&#x68C0;&#x67E5;&#x914D;&#x7F6E;&#x3002;<strong>&#x4E3A;ssh&#x6253;&#x5F00;22222&#x7AEF;&#x53E3;</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &#x6DFB;&#x52A0;&#x7AEF;&#x53E3;</span></span><br><span class="line">semanage port -a -t ssh_port_t -p tcp 22222</span><br><span class="line"><span class="comment"># &#x5217;&#x51FA;&#x4F7F;&#x7528;&#x7684;</span></span><br><span class="line">semanage port -l | grep ssh</span><br><span class="line">ssh_port_t                     tcp      22222, 22  </span><br><span class="line"><span class="comment"># &#x91CD;&#x542F; ssh &#x670D;&#x52A1;</span></span><br><span class="line">systemctl restart sshd  </span><br><span class="line"><span class="comment"># &#x5220;&#x9664;&#x7AEF;&#x53E3;&#xFF0C;&#x4F46;&#x662F;&#x4E0D;&#x80FD;&#x5220;&#x9664;22&#x7AEF;&#x53E3;&#xFF0C;&#x8F93;&#x5165;&#x4E0B;&#x5217;&#x547D;&#x4EE4;&#x62A5;&#x9519;&#xFF0C;&#x5220;&#x9664;&#x9519;&#x8BEF;&#xFF0C;&#x53EF;&#x4EE5;&#x8BD5;&#x8BD5;&#xFF0C;&#x53CD;&#x6B63;&#x4E0D;&#x5F71;&#x54CD;</span></span><br><span class="line">semanage port -d -t ssh_port_t -p tcp 22</span><br></pre></td></tr></table></figure>

<h3 id="3-&#x914D;&#x7F6E;&#x9632;&#x706B;&#x5899;firewalld"><a href="#3-&#x914D;&#x7F6E;&#x9632;&#x706B;&#x5899;firewalld" class="headerlink" title="3.&#x914D;&#x7F6E;&#x9632;&#x706B;&#x5899;firewalld"></a>3.&#x914D;&#x7F6E;&#x9632;&#x706B;&#x5899;firewalld</h3><p><strong>&#x542F;&#x7528;&#x9632;&#x706B;&#x5899;&amp;&amp;&#x67E5;&#x770B;&#x9632;&#x706B;&#x5899;&#x72B6;&#x6001;&#xFF1A;</strong>(&#x4EE5;&#x4E0B;&#x5BF9;&#x9632;&#x706B;&#x5899;&#x7684;&#x8BBE;&#x7F6E;&#xFF0C;&#x5982;&#x679C;&#x6210;&#x529F;&#x90FD;&#x4F1A;&#x663E;&#x793A;success&#xFF09;</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">systemctl <span class="built_in">enable</span> firewalld</span><br><span class="line">systemctl start firewalld</span><br><span class="line">systemctl status firewalld</span><br><span class="line"><span class="comment"># &#x4EE5;&#x4E0B;&#x4E3A;&#x9632;&#x706B;&#x5899;&#x72B6;&#x6001;&#x663E;&#x793A;</span></span><br><span class="line"><span class="comment"># firewalld.service - firewalld - dynamic firewall daemon</span></span><br><span class="line"><span class="comment">#   Loaded: loaded (/usr/lib/systemd/system/firewalld.service; enabled; vendor preset: enabled)</span></span><br><span class="line"><span class="comment">#   Active: active (running) since &#x4E8C; 2016-12-20 02:12:59 CST; 1 day 13h ago</span></span><br><span class="line"><span class="comment">#   Main PID: 10379 (firewalld)</span></span><br><span class="line"><span class="comment">#   CGroup: /system.slice/firewalld.service</span></span><br><span class="line"><span class="comment">#           &#x2514;&#x2500;10379 /usr/bin/python -Es /usr/sbin/firewalld --nofork --nopid</span></span><br><span class="line">firewall-cmd --state</span><br><span class="line"><span class="comment"># running</span></span><br></pre></td></tr></table></figure>

<p><strong>&#x67E5;&#x770B;&#x9632;&#x706B;&#x5899;&#x5F53;&#x524D;&#x2018;&#x9ED8;&#x8BA4;&#x2019;&#x548C;&#x2018;&#x6FC0;&#x6D3B;&#x2019;zone&#xFF08;&#x533A;&#x57DF;&#xFF09;</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --get-default-zone</span><br><span class="line"><span class="comment"># public  </span></span><br><span class="line">firewall-cmd --get-active-zones</span><br><span class="line"><span class="comment"># public  </span></span><br><span class="line"><span class="comment">#   interfaces: eth0 eth1</span></span><br></pre></td></tr></table></figure>

<p><strong>&#x6FC0;&#x6D3B;public&#x533A;&#x57DF;&#xFF0C;&#x589E;&#x52A0;&#x7F51;&#x5361;&#x63A5;&#x53E3;</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --<span class="built_in">set</span>-default-zone=public</span><br><span class="line">firewall-cmd --zone=public --add-interface=eth0</span><br><span class="line"><span class="comment"># success  </span></span><br><span class="line">firewall-cmd --zone=public --add-interface=eth1</span><br><span class="line"><span class="comment"># success</span></span><br></pre></td></tr></table></figure>

<p><strong>&#x4E3A;public zone&#x6C38;&#x4E45;&#x5F00;&#x653E;22222/TCP&#x7AEF;&#x53E3;</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &#x4EE5;&#x9632;&#x65B0;&#x7AEF;&#x53E3;&#x4E0D;&#x751F;&#x6548;&#xFF0C;&#x5148;&#x628A; 22 &#x7AEF;&#x53E3;&#x66B4;&#x9732;</span></span><br><span class="line">firewall-cmd --permanent --zone=public --add-port=22/tcp</span><br><span class="line">firewall-cmd --permanent --zone=public --add-port=2048/tcp</span><br><span class="line"><span class="comment"># success  </span></span><br><span class="line"><span class="comment"># &#x91CD;&#x8F7D;&#x9632;&#x706B;&#x5899;</span></span><br><span class="line">firewall-cmd --reload</span><br><span class="line"><span class="comment"># &#x67E5;&#x770B;&#x66B4;&#x9732;&#x7AEF;&#x53E3;&#x89C4;&#x5219;</span></span><br><span class="line">firewall-cmd --permanent --list-port</span><br><span class="line"><span class="comment"># 443/tcp 80/tcp 22/tcp 22222/tcp  </span></span><br><span class="line">firewall-cmd --zone=public --list-all</span><br><span class="line"><span class="comment"># &#x6BCF;&#x4E2A;&#x4EBA;&#x914D;&#x7F6E;&#x4E0D;&#x4E00;&#x6837;&#xFF0C;&#x5C31;&#x4E0D;&#x8D34;&#x51FA;&#x6765;&#x4E86;</span></span><br></pre></td></tr></table></figure>

<p><strong>&#x9632;&#x706B;&#x5899;&#x79FB;&#x9664;22&#x7AEF;&#x53E3;</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --permanent --zone=public --remove-port=22/tcp</span><br><span class="line"><span class="comment"># success  </span></span><br><span class="line">firewall-cmd --reload</span><br><span class="line">firewall-cmd --permanent --list-port</span><br><span class="line"><span class="comment"># 443/tcp 80/tcp 2048/tcp</span></span><br></pre></td></tr></table></figure>

<p>&#x5230;&#x6B64;&#x4E3A;&#x6B62;&#xFF0C;&#x5DF2;&#x7ECF;&#x53EF;&#x4EE5;&#x9000;&#x51FA;&#x670D;&#x52A1;&#x5668;&#x8BBE;&#x7F6E;&#xFF0C;&#x53BB;&#x8FDC;&#x7A0B;&#x8FDE;&#x63A5;&#x8BD5;&#x4E00;&#x8BD5;&#x4E86;&#x3002;</p>
<p>&#x7531;&#x4E8E;&#x6211;&#x4F7F;&#x7528;&#x7684;&#x662F;&#x963F;&#x91CC;&#x4E91;&#xFF0C;&#x8FDE;&#x6D4F;&#x89C8;&#x5668;&#x90FD;&#x4E0D;&#x7528;&#x5173;&#xFF0C;&#x6253;&#x5F00;&#x7EC8;&#x7AEF;&#xFF0C;&#x4F7F;&#x7528;&#x547D;&#x4EE4;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ssh -p 22222 root@ip</span><br><span class="line"># &#x5982;&#x679C;&#x6210;&#x529F;&#x4F1A;&#x8BA9;&#x4F60;&#x8F93;&#x5165;&#x5BC6;&#x7801;&#x3002;</span><br></pre></td></tr></table></figure>

<h3 id="4-&#x5176;&#x4ED6;&#x8BBE;&#x7F6E;"><a href="#4-&#x5176;&#x4ED6;&#x8BBE;&#x7F6E;" class="headerlink" title="4.&#x5176;&#x4ED6;&#x8BBE;&#x7F6E;"></a>4.&#x5176;&#x4ED6;&#x8BBE;&#x7F6E;</h3><p>ssh&#x53D6;&#x6D88;&#x76D1;&#x542C;22&#x7AEF;&#x53E3;&#xFF0C;&#x5C31;&#x5DF2;&#x7ECF;&#x914D;&#x7F6E;&#x597D;&#x4E86;&#xFF0C;&#x9632;&#x706B;&#x5899;&#x53EA;&#x4E0D;&#x8FC7;&#x662F;&#x5728;ssh&#x5916;&#x591A;&#x4E00;&#x5C42;&#x8BBF;&#x95EE;&#x9650;&#x5236;&#x3002;&#x5982;&#x679C;&#x8981;&#x505A;&#x7684;&#x66F4;&#x597D;&#x8FD8;&#x53EF;&#x4EE5;&#x5C06;22&#x7AEF;&#x53E3;&#x7684;&#x8BBF;&#x95EE;&#x6D41;&#x91CF;&#x8F6C;&#x5411;&#x8BBF;&#x95EE;&#x8005;&#x672C;&#x5730;&#xFF1A;</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --permanen --zone=public --add-forward-port=port=22:proto=tcp:toport=22:toaddr=127.0.0.1</span><br></pre></td></tr></table></figure>

<p>&#x5982;&#x679C;&#x8981;&#x53D6;&#x6D88;forward&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4E00;&#x4E0B;&#x547D;&#x4EE4;&#xFF1A;</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --permanen --zone=public --remove-forward-port=port=22:proto=tcp:toport=22:toaddr=127.0.0.1</span><br></pre></td></tr></table></figure>

<p>&#x5F53;&#x4F60;&#x770B;&#x5230;&#x8FD9;&#x91CC;&#x53EF;&#x80FD;&#x8FD8;&#x662F;&#x6709;&#x7591;&#x95EE;&#xFF0C;iptables&#x7528;&#x5728;&#x54EA;&#x91CC;&#x4E86;&#x5462;&#xFF1F;&#x5176;&#x5B9E;iptables&#x4E3B;&#x8981;&#x662F;&#x67E5;&#x770B;&#x7AEF;&#x53E3;&#x4F7F;&#x7528;&#x5427;&#xFF0C;&#x4E5F;&#x6CA1;&#x6709;&#x7528;iptables&#x53BB;&#x66FF;&#x4EE3;firewalld</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#&#x5148;&#x68C0;&#x67E5;&#x662F;&#x5426;&#x5B89;&#x88C5;&#x4E86;iptables  </span></span><br><span class="line">service iptables status  </span><br><span class="line"><span class="comment">#&#x5B89;&#x88C5;iptables  </span></span><br><span class="line">yum install -y iptables  </span><br><span class="line"><span class="comment">#&#x5347;&#x7EA7;iptables  </span></span><br><span class="line">yum update iptables   </span><br><span class="line"><span class="comment">#&#x5B89;&#x88C5;iptables-services  </span></span><br><span class="line">yum install iptables-services  </span><br><span class="line"><span class="comment">#&#x67E5;&#x770B;iptables&#x73B0;&#x6709;&#x89C4;&#x5219;  </span></span><br><span class="line">iptables -L -n</span><br></pre></td></tr></table></figure>

<h3 id="&#x7ED3;&#x675F;&#x8BED;"><a href="#&#x7ED3;&#x675F;&#x8BED;" class="headerlink" title="&#x7ED3;&#x675F;&#x8BED;"></a>&#x7ED3;&#x675F;&#x8BED;</h3><p>&#x6574;&#x4E86;&#x5927;&#x534A;&#x5929;&#xFF0C;&#x7EC8;&#x4E8E;&#x641E;&#x5B9A;&#x4E86;&#xFF0C;&#x7ECF;&#x8FC7;&#x8FD9;&#x6B21;SSH&#x7AEF;&#x53E3;&#x53D8;&#x66F4;&#x52A0;&#x4E0A;&#x5404;&#x79CD;&#x8E29;&#x5751;&#xFF0C;&#x660E;&#x767D;&#x4E00;&#x4E2A;&#x9053;&#x7406;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x8F93;&#x51FA;&#x4FE1;&#x606F;&#x4E00;&#x5B9A;&#x8981;&#x597D;&#x597D;&#x8BFB;&#x8BFB;&#x3002;</p>

                    </article>
                    


    <blockquote id="date-expire-notification" class="post-expired-notify">This article was last updated on <span id="date-expire-num"></span> days ago, and the information described in the article may have changed.</blockquote>
    <script>
        var dateUpdate = Date.parse("2018-06-13");
        var nowDate = new Date();
        var a = nowDate.getTime();
        var b = a - dateUpdate;
        var daysUpdateExpire = Math.floor(b/(24*3600*1000));
        if (daysUpdateExpire >= 120) {
            document.getElementById('date-expire-num').innerHTML = daysUpdateExpire;
        } else {
            document.getElementById('date-expire-notification').style.display = 'none';
        }
    </script>


<p class="post-footer-info mb-0 pt-0">Published at&nbsp;<time datetime="2018-06-04T06:20:38.000Z" itemprop="datePublished">2018-06-04</time>

    , Updated at&nbsp;<time datetime="2018-06-13T12:10:16.000Z" itemprop="dateModified">2018-06-13</time>

</p>
<p class="post-footer-info mb-0 pt-2">

<span class="post-categories-list mt-2">


<a class="post-categories-list-item" href='/categories/work/'>work</a>

</span>



<span class="post-tags-list mt-2">


<a class="post-tags-list-item" href="/tags/中文/" rel="tag">#&nbsp;中文</a>

<a class="post-tags-list-item" href="/tags/SSH/" rel="tag">#&nbsp;SSH</a>

</span>


</p>

                </div>
                
<div class="post-nav px-2 bg-gray">
<ul class="pagination">
    <!-- Prev Nav -->
    
        <li class="page-item page-prev">
            <a href="/2018/06/14/Springbasic/" rel="prev">
                <div class="page-item-title"><i class="icon icon-back" aria-hidden="true"></i></div>
                <div class="page-item-subtitle">Spring Basic</div>
            </a>
        </li>
    

    <!-- Next Nav -->
    
        <li class="page-item page-next">
            <a href="/2018/05/25/HibernateBasic/" rel="next">
                <div class="page-item-title"><i class="icon icon-forward" aria-hidden="true"></i></div>
                <div class="page-item-subtitle">Hibernate Basic</div>
            </a>
        </li>
    
</ul>
</div>

                
                    <!-- # Comment # -->
                    
                
            </div>
        </div>
    </div>
</div>

            <!-- ### Footer ### -->
            <footer class="text-center">
    <!-- footer copyright -->
    <p class="footer-copyright mb-0">Copyright&nbsp;©&nbsp;<span data-year></span>
        <a class="footer-copyright-a" href="http://yoursite.com">Warren Zhao&#39; blog</a>
    </p>
    <!-- footer custom text -->
    <p class="footer-text mb-0">
    
    </p>
    <!-- footer develop info -->
    <p class="footer-develop mb-0">
        
            
    <!-- Busuanzi User Views -->
    <span id="busuanzi_container_site_uv" hidden>
        <span></span>
        <span id="busuanzi_value_site_uv"></span>
        <span>Viewers</span>
        
            <span>|</span>
        
    </span>



        
        
        Powered by&nbsp;<!--
         --><a href="https://hexo.io" target="_blank" class="footer-develop-a" rel="external nofollow noopener noreferrer">Hexo</a><span class="footer-develop-divider"></span>Theme&nbsp;-&nbsp;<!--
         --><a href="https://github.com/SukkaW/hexo-theme-suka" target="_blank" class="footer-develop-a" rel="external noopener">Suka</a>
    </p>
</footer>

        

        <!-- ### Import File ### -->
        <!-- ### Footer JS Import ### -->

<script>
window.lazyLoadOptions = {
    elements_selector: ".lazyload",
    threshold: 50
};



    /* Copyright */
    var copyrightNow = new Date().getFullYear();
    var copyrightContent = document.querySelector('span[data-year]')
    
        copyrightContent.textContent = copyrightNow
    



/* Cnosole Log */
console.log('\n %c Suka Theme (hexo-theme-suka) | © SukkaW | Verision 1.3.3 %c https://github.com/SukkaW/hexo-theme-suka \n', 'color: #fff; background: #444; padding:5px 0;', 'background: #bbb; padding:5px 0;');
</script>

<!-- vanilla-lazyload -->

    <script src="/lib/vanilla-lazyload/lazyload.min.js" async></script>



    <!-- Busuanzi -->
    
    <script src="https://cdn.jsdelivr.net/npm/busuanzi@2.3.0/bsz.pure.mini.js" async></script>


<!-- Offset -->







<!-- gallery.js -->


<!-- Comment -->


<!-- ### Custom Footer ### -->


    </body>

</html>